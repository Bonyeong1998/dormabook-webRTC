<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>도르마북 | 화상회의</title>
    <!-- Latest minified Bootstrap & JQuery-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">
    <!-- Custom styles for this template -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">
    <style>
        .btn.active {
            display: none;
        }

        .btn span:nth-of-type(1)  {
            display: none;
        }
        .btn span:last-child  {
            display: block;
        }

        .btn.active span:nth-of-type(1)  {
            display: block;
        }
        .btn.active span:last-child  {
            display: none;
        }
    </style>
    <link rel="stylesheet" type="text/css" href="/css/main.css"/>
</head>
<body>
<header class="w3-container" style="padding: 0; height: 60px;">
    <div style="width:12%; height: 100%; border-right: solid 1px #d5dadb; border-bottom: solid 1px #d5dadb; float: left; text-align: center;">
        <h2 style="font-family: 'Noto Sans KR', sans-serif;">도르마북</h2>
    </div>

    <div style="width:88%; height: 100%; border-right: solid 1px #d5dadb; border-bottom: solid 1px #d5dadb; float: left; padding-left: 50px;">
        <h2 id="title" style="font-family: 'Noto Sans KR', sans-serif;">화상 회의</h2>
    </div>
</header>
<!-- Left SideBar-->
<div class="w3-sidebar w3-bar-block"
     style="width:12%; border-right: solid 1px #d5dadb; font-family: 'Noto Sans KR', sans-serif; padding-left: 10px">
    <a id="chat-btn" class="w3-bar-item w3-button">학습 채팅방</a>
    <a id="report-btn" class="w3-bar-item w3-button">보고서 관리</a>
    <a id="score-btn" class="w3-bar-item w3-button">성적 제출</a>
</div>
<!-- Right SideBar-->
<div class="w3-sidebar w3-bar-block w3-xxlarge"
     style="max-width:4%; min-width:60px; position:absolute; right:0; float:right; border-left: solid 1px #d2d2d2;">
    <svg id="cam-chat" class="w3-bar-item w3-button" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" fill="#F2F4F8"/>
        <path fill-rule="evenodd" clip-rule="evenodd"
              d="M10 16.4C10 15.7635 10.2634 15.153 10.7322 14.7029C11.2011 14.2529 11.837 14 12.5 14H21.875C22.4814 13.9999 23.0671 14.2114 23.5231 14.5951C23.9791 14.9788 24.2743 15.5085 24.3537 16.0856L28.2413 14.4272C28.4315 14.3458 28.64 14.3114 28.8477 14.327C29.0554 14.3426 29.2557 14.4078 29.4304 14.5167C29.6052 14.6255 29.7488 14.7746 29.8483 14.9503C29.9478 15.126 29.9999 15.3228 30 15.5228V24.4772C29.9998 24.677 29.9477 24.8737 29.8483 25.0492C29.7488 25.2248 29.6053 25.3738 29.4308 25.4826C29.2562 25.5914 29.0561 25.6567 28.8486 25.6724C28.641 25.6882 28.4327 25.6539 28.2425 25.5728L24.3537 23.9144C24.2743 24.4915 23.9791 25.0212 23.5231 25.4049C23.0671 25.7886 22.4814 26.0001 21.875 26H12.5C11.837 26 11.2011 25.7471 10.7322 25.2971C10.2634 24.847 10 24.2365 10 23.6V16.4ZM24.375 22.61L28.75 24.4772V15.5228L24.375 17.39V22.61ZM12.5 15.2C12.1685 15.2 11.8505 15.3264 11.6161 15.5515C11.3817 15.7765 11.25 16.0817 11.25 16.4V23.6C11.25 23.9183 11.3817 24.2235 11.6161 24.4485C11.8505 24.6736 12.1685 24.8 12.5 24.8H21.875C22.2065 24.8 22.5245 24.6736 22.7589 24.4485C22.9933 24.2235 23.125 23.9183 23.125 23.6V16.4C23.125 16.0817 22.9933 15.7765 22.7589 15.5515C22.5245 15.3264 22.2065 15.2 21.875 15.2H12.5Z"
              fill="black"/>
    </svg>
</div>
<!-- Begin page content -->
<main role="main" class="container-fluid" style="width:100%; height: 600px; margin-left: 12%;">
    <input type="hidden" id="id" name="id" th:value="${id}"/>
    <div class="col-lg-10 mb-3" style="margin-top: 50px">
        <!--        <div class="mb-3" th:text="'User: ' + ${uuid} + ' @ Room #' + ${id}">-->
        <!--            Local User Id-->
        <!--        </div>-->
        <div class="row justify-content-center mb-3">
            <div class="col-lg-4 mb-3">
                <video id="local_video" autoplay muted playsinline></video>
            </div>
            <div class="col-lg-4 mb-3">
                <video id="remote_video" autoplay playsinline></video>
            </div>
        </div>
        <div class="row justify-content-center mb-3">
            <div class="col-lg-4 mb-3">
                <video id="shared_video" autoplay playsinline></video>
            </div>
        </div>


    </div>

    <div class="mb-3" style="padding: 0; position: absolute; bottom: 100px; width: 84%;">
        <div class="d-flex justify-content-around mb-3">
            <div id="buttons" class="row">
                <div class="btn-group" role="group">
                    <div class="mr-2" data-toggle="buttons">
                        <label class="btn" id="video_off">
                            <input type="radio" name="options" style="display:none;" autocomplete="off"><div style=" content: url(https://user-images.githubusercontent.com/73926856/171702721-e95d537e-9b93-4183-9350-b2ff4ccf8453.png); height: 4rem"></div>
                        </label>
                        <label class="btn active" id="video_on">
                            <input type="radio" name="options" style="display:none" autocomplete="off" checked><div style=" content: url(https://user-images.githubusercontent.com/73926856/171702642-099ac4a4-9557-4b92-b7f1-54be9fdbe923.png); height: 4rem"></div>
                        </label>
                    </div>
                    <div class="mr-2" data-toggle="buttons">
                        <label class="btn" id="shared_on">
                            <input type="radio" name="options" style="display:none;" autocomplete="off" checked><div style=" content: url(https://user-images.githubusercontent.com/73926856/172699604-6690c009-43d4-41a7-84be-fbb0677b445e.png); height: 4rem"></div>
                        </label>
                        <label class="btn active" id="shared_off">
                            <input type="radio" name="options" style="display:none" autocomplete="off"><div style=" content: url(https://user-images.githubusercontent.com/73926856/172699590-441ac17a-44be-477a-8300-ec50df0b7ccc.png); height: 4rem"></div>
                        </label>
                    </div>
                    <div class="mr-2" data-toggle="buttons">
                        <label class="btn" id="audio_off">
                            <input type="radio" name="options" style="display:none" autocomplete="off"><div style=" content: url(https://user-images.githubusercontent.com/73926856/171702779-de2c8878-143e-4c5f-ac68-a90693ee9817.png); height: 4rem"></div>
                        </label>
                        <label class="btn active" id="audio_on">
                            <input type="radio" name="options" style="display:none" autocomplete="off" checked><div style=" content: url(https://user-images.githubusercontent.com/73926856/171702825-442482bb-0d84-4e7b-896f-6e6fbe3a8251.png); height: 4rem"></div>
                        </label>
                    </div>
                </div>

                <!--<button type="button" class="btn btn-outline-success" id="audio" data-toggle="button">Audio</button>-->
                <a th:href="@{/room/{id}/user/{uuid}/exit(id=${id},uuid=${uuid})}">
                    <button type="button" class="btn" id="exit" name="exit" style="background-color: white; border: none; box-shadow: none;">
                        <div style=" content: url(https://user-images.githubusercontent.com/73926856/171728915-b7a00c25-aa42-46b1-b915-d646c0d9f13a.png); height: 4rem"></div>
                    </button>
                </a>
            </div>
        </div>
    </div>
</main>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
<script src="/js/webrtc_client.js"></script>
</body>
</html>